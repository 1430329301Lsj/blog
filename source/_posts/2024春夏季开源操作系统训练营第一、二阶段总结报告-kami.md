---
title: 2024春夏季开源操作系统训练营第一、二阶段总结报告-kami
date: 2024-04-27 20:34:28
tags: 
    - author:kami
    - repo:https://github.com/LearningOS/rust-rustlings-2024-spring-Destinykami
mathjax: true
---
# 一阶段 小结

这是我第二次参加了，秋冬季的时候二阶段适逢期中考试，完成的不是很好，三阶段也没有参加。这次期中考试和一阶段又撞一起了，挑了时间一口气赶进度是相当的折磨。

通过rustlings可以快速对Rust的特性进行了解，但是感觉学习的效果并不是非常的好，题目做过之后就忘的差不多了，归根到底还是一直用cpp而不习惯使用rust，在学习的时候很容易在想"这个东西就相当于cpp里的..."

最后几个算法题挺有意思的，做起来也很头疼- - 

一阶段暂且告一段落，虽然笔记做了一大堆，但是实际上大部分是复制文档内容和代码样例，勉勉强强算给自己制造完成了很多工作量的错觉来给自己一点正反馈吧。


# 二阶段 小结
写在开头，如果没有**rust-analyzer**，我可能对着这一大堆东西愣半天也写不了几段正确且符合逻辑的代码。  

做PA的时候总是看到强调要多**RTFSC**，这确实是相当的重要。所以刚开始的时候对着指导书，并结合源码，把每一个模块的实现的源码阅读了一遍，虽然并不是自己敲的，而且有的地方也不是很理解为什么要这么写，但是总体上有了大概的了解，不至于那么的无从下手。  

这个学期学校课程安排开设了操作系统课程，相比于秋冬季时没有系统的学习操作系统而直接开始阅读Tutorial来说，这一次重新阅读，结合课本的相关知识，这些概念和代码实现亲切了许多。

简单说说在各个章节中的收获：
### 多道程序
本章学习了任务相关的知识，包括任务切换，任务调度，任务控制块TCB数据结构的设计等，相比于课本上生硬地写出TCB需要保存的内容来说，使用代码实现TCB的设计可以有了更加深刻的理解。

实践作业实现了一个新的系统调用 sys_task_info 用以获取当前正在运行的任务的信息。

### 地址空间
印象最深的是SV39多级页表。类似于字典树(Trie)，大大节省了占用的内存空间。  
还有虚拟内存的相关概念，虚拟内存和物理内存的转换。

实践作业实现了 mmap 和 munmap 匿名映射，简化了实现，仅用于申请内存。  
主要是要RTFSC，在其他的系统调用中查看如何转换地址，如何查页表。  

### 进程
进程和线程在学校课程学习中是很重要的一部分，本章介绍了进程的概念和相关系统调用，并进行进程管理和进程调度。

实践作业包括两个：
* 实现spawn  
    虽然好像 fork+execve!=spawn，但是我的实现就是把fork的代码复制下来，然后和execve的代码进行了一个缝合...
* 实现stride调度  
    发现了ci的一个bug，即实际上如果只实现了set_priority这个用于设置优先级的系统调用，并没有去实现调度的话也可以通过ci测试...

### 文件系统
印象非常的深刻的是Unix哲学的一切皆文件

本章的内容相当的多，因为文件系统比较复杂，读起来非常的费劲而且读完就容易忘...

只记得bitmap，inode啥的了2333，在PA中实现过read，open，seek等操作，印象也不是很深刻了，当时好像是可以将不同类型的文件用统一的接口来进行读写操作。  

实践作业实现了linkat和unlinkat，关于fstat，在计算inode时遇到了一些困难...

### 并发
首先介绍了用户态和内核态的线程管理。  
线程的并发问题是老生常谈了，用了锁，信号量，条件变量等进行线程同步互斥管理。  

实践作业实现死锁检测，一开始就把这个认为是**银行家算法**，但是潜水看群里大佬们聊天说并不是，只是用了银行家算法的思想，再想了想课本上学习的，好像确实...

比较麻烦，一开始无从下手，因为不知道资源数量，需求资源啥的需要在哪里定义。

### 小结的小结
二阶段的编程小练习涵盖了操作系统设计的几个重要方面，我认为二刷甚至多刷也是有价值的-。-

# 三阶段 小结 (todo)
选择了项目三 Rust for Linux内核驱动，目前完成了前两个小练习，比较简单，但是新的练习三突然上了强度...目前是一头雾水的状态。  

To be continue...  

进入考试周，在学业压力下，对于三阶段的期望降到了混个合格就好...  



**繋がる空の下  
さあ自分らしく進もう  
始まりの歌贈るよ  
歩き出す君へ**  
--献给此刻迈步前行的你

Author:  
kami  
Xiamen University
